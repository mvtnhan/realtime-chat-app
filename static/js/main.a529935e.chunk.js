(this.webpackJsonpchatty=this.webpackJsonpchatty||[]).push([[0],{35:function(e,t,a){e.exports=a(59)},52:function(e,t,a){},53:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(32),c=a.n(i),s=a(13),l=a(14),u=a(16),o=a(15),h=a(29),m=a(17),p=a(5),d=a.n(p),b=a(12),v=a(7),g=a(25),f=a.n(g);f.a.initializeApp({apiKey:"AIzaSyDWKvkWv9oBrmkCC9QUPWBguGuWHTIVd04",authDomain:"chatty-dd8e6.firebaseapp.com",databaseURL:"https://chatty-dd8e6.firebaseio.com"});var E=f.a.auth,S=f.a.database(),y=(a(52),function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={user:E().currentUser,chats:[],content:"",readError:null,writeError:null},n.handleChange=n.handleChange.bind(Object(v.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(v.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{S.ref("chats").on("value",(function(e){var a=[];e.forEach((function(e){a.push(e.val())})),t.setState({chats:a})}))}catch(a){this.setState({readError:a.message})}case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState({content:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({writeError:null}),e.prev=2,e.next=5,S.ref("chats").push({content:this.state.content,timestamp:Date.now(),uid:this.state.user.uid});case 5:this.setState({content:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),this.setState({writeError:e.t0.message});case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"FormChat"},r.a.createElement("div",{className:"FormContentChat"},this.state.chats.map((function(t){return t.uid===e.state.user.uid?r.a.createElement("p",{className:"MyChat",key:t.timestamp},t.content):r.a.createElement("p",{className:"TheyChat",key:t.timestamp},t.content)}))),r.a.createElement("form",{className:"btnSend",onSubmit:this.handleSubmit},r.a.createElement("input",{className:"Input",onChange:this.handleChange,value:this.state.content}),this.state.error?r.a.createElement("p",null,this.state.writeError):null,r.a.createElement("button",{className:"BtnSubmit",type:"submit"},"Send"),r.a.createElement("div",null,"Login in as: ",r.a.createElement("strong",null,this.state.user.email))))}}]),a}(n.Component)),w=a(24),O=a(11);function j(){var e=new E.GoogleAuthProvider;return E().signInWithPopup(e)}function C(){var e=new E.GithubAuthProvider;return E().signInWithPopup(e)}a(53);var k=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={error:null,email:"",password:""},n.handleChange=n.handleChange.bind(Object(v.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(v.a)(n)),n.googleSignIn=n.googleSignIn.bind(Object(v.a)(n)),n.githubSignIn=n.githubSignIn.bind(Object(v.a)(n)),n}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(w.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({error:""}),e.prev=2,e.next=5,a=this.state.email,n=this.state.password,E().createUserWithEmailAndPassword(a,n);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),this.setState({error:e.t0.message});case 10:case"end":return e.stop()}var a,n}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"googleSignIn",value:function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.setState({error:e.t0.message});case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"githubSignIn",value:function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.setState({error:e.t0.message});case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"Signup"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h1",null,"Sigin Up to",r.a.createElement(O.b,{to:"/"}," Chatty ")),r.a.createElement("p",null,"Fill in the form below to create an account."),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Email",name:"email",type:"email",onChange:this.handleChange,value:this.state.email})),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"PassWord",name:"password",type:"password",onChange:this.handleChange,value:this.state.password})),r.a.createElement("div",{className:"btn"},this.state.error?r.a.createElement("p",null,this.state.error):null,r.a.createElement("button",{type:"submit"},"Sigin up"),r.a.createElement("p",null,"Or"),r.a.createElement("button",{onClick:this.googleSignIn,type:"button"},"Sigin up with Google"),r.a.createElement("button",{type:"button",onClick:this.githubSignIn},"Sign Up with GitHub")),r.a.createElement("hr",null),r.a.createElement("p",null,"Already have an account? ",r.a.createElement(O.b,{to:"/login"},"Login"))))}}]),a}(n.Component),x=(a(58),function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={error:null,email:"",password:""},n.handleChange=n.handleChange.bind(Object(v.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(v.a)(n)),n}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(w.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({error:""}),e.prev=2,e.next=5,a=this.state.email,n=this.state.password,E().signInWithEmailAndPassword(a,n);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),this.setState({error:e.t0.message});case 10:case"end":return e.stop()}var a,n}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"Login"},r.a.createElement("form",{className:"FormLogin",autoComplete:"off",onSubmit:this.handleSubmit},r.a.createElement("h1",null,r.a.createElement(O.b,{to:"/"},"Chatty")),r.a.createElement("p",null,"Fill in the form below to login to your account."),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Email",name:"email",type:"email",onChange:this.handleChange,value:this.state.email})),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Password",name:"password",onChange:this.handleChange,value:this.state.password,type:"password"})),r.a.createElement("div",null,this.state.error?r.a.createElement("p",null,this.state.error):null,r.a.createElement("button",{type:"submit"},"Login")),r.a.createElement("hr",null),r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(O.b,{to:"/signup"},"Sign up"))))}}]),a}(n.Component));function I(e){var t=e.component,a=e.authenticated,n=Object(h.a)(e,["component","authenticated"]);return r.a.createElement(m.b,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(t,e):r.a.createElement(m.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}function N(e){var t=e.component,a=e.authenticated,n=Object(h.a)(e,["component","authenticated"]);return r.a.createElement(m.b,Object.assign({},n,{render:function(e){return!1===a?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/chat"})}}))}var D=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={authenticated:!1,loading:!0},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;E().onAuthStateChanged((function(t){t?e.setState({authenticated:!0,loading:!1}):e.setState({authenticated:!1,loading:!1})}))}},{key:"render",value:function(){return!0===this.state.loading?r.a.createElement("h2",null,"Loading..."):r.a.createElement(m.d,null,r.a.createElement(m.a,{exact:!0,from:"/",to:"/login"}),r.a.createElement(I,{path:"/chat",authenticated:this.state.authenticated,component:y}),r.a.createElement(N,{path:"/signup",authenticated:this.state.authenticated,component:k}),r.a.createElement(N,{path:"/login",authenticated:this.state.authenticated,component:x}))}}]),a}(n.Component);c.a.render(r.a.createElement(O.a,{basename:"/realtime-chat-app"},r.a.createElement(D,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.a529935e.chunk.js.map